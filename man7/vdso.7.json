[
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Written by Mike Frysinger <vapier@gentoo.org>"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" %%%LICENSE_START(PUBLIC_DOMAIN)"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" This page is in the public domain."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" %%%LICENSE_END"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Useful background:"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\"   http://articles.manugarg.com/systemcallinlinux2_6.html"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\"   https://lwn.net/Articles/446528/"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\"   http://www.linuxjournal.com/content/creating-vdso-colonels-other-chicken"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\"   http://www.trilithium.com/johan/2005/08/linux-gate/"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TH",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " VDSO 7 2018-04-30 \"Linux\" \"Linux Programmer's Manual\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " NAME"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "vdso "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": " overview of the virtual ELF dynamic shared object"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " SYNOPSIS"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " #include <sys/auxv.h>"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " void *vdso = (uintptr_t) getauxval(AT_SYSINFO_EHDR);"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " DESCRIPTION"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The \"vDSO\" (virtual dynamic shared object) is a small shared library that"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the kernel automatically maps into the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "address space of all user-space applications."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Applications usually do not need to concern themselves with these details"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "as the vDSO is most commonly called by the C library."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This way you can code in the normal way using standard functions"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and the C library will take care"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "of using any functionality that is available via the vDSO."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Why does the vDSO exist at all?"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "There are some system calls the kernel provides that"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "user-space code ends up using frequently,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to the point that such calls can dominate overall performance."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is due both to the frequency of the call as well as the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "context-switch overhead that results"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "from exiting user space and entering the kernel."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The rest of this documentation is geared toward the curious and/or"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "C library writers rather than general developers."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "If you're trying to call the vDSO in your own application rather than using"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the C library, you're most likely doing it wrong."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Example background"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Making system calls can be slow."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "In x86 32-bit systems, you can trigger a software interrupt"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " ( \"int $0x80\" )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to tell the kernel you wish to make a system call."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "However, this instruction is expensive: it goes through"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the full interrupt-handling paths"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in the processor's microcode as well as in the kernel."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Newer processors have faster (but backward incompatible) instructions to"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "initiate system calls."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Rather than require the C library to figure out if this functionality is"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "available at run time,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the C library can use functions provided by the kernel in"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the vDSO."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Note that the terminology can be confusing."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "On x86 systems, the vDSO function"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "used to determine the preferred method of making a system call is"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "named \"__kernel_vsyscall\", but on x86-64,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the term \"vsyscall\" also refers to an obsolete way to ask the kernel"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "what time it is or what CPU the caller is on."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "One frequently used system call is"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " gettimeofday (2)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This system call is called both directly by user-space applications"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "as well as indirectly by"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the C library."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Think timestamps or timing loops or polling"
        },
        {
          "type": "ESCAPE",
          "content": "\\(em"
        },
        {
          "type": "TEXT",
          "content": "all of these"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "frequently need to know what time it is right now."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This information is also not secret"
        },
        {
          "type": "ESCAPE",
          "content": "\\(em"
        },
        {
          "type": "TEXT",
          "content": "any application in any"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "privilege mode (root or any unprivileged user) will get the same answer."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Thus the kernel arranges for the information required to answer"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "this question to be placed in memory the process can access."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Now a call to"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " gettimeofday (2)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "changes from a system call to a normal function"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "call and a few memory accesses."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Finding the vDSO"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The base address of the vDSO (if one exists) is passed by the kernel to"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "each program in the initial auxiliary vector (see"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " getauxval (3)),"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "via the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " AT_SYSINFO_EHDR"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "tag."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "You must not assume the vDSO is mapped at any particular location in the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "user's memory map."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The base address will usually be randomized at run time every time a new"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "process image is created (at"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " execve (2)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "time)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is done for security reasons,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to prevent \"return-to-libc\" attacks."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "For some architectures, there is also an"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " AT_SYSINFO"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "tag."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is used only for locating the vsyscall entry point and is frequently"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "omitted or set to 0 (meaning it's not available)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This tag is a throwback to the initial vDSO work (see"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " History"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "below) and its use should be avoided."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " File format"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Since the vDSO is a fully formed ELF image, you can do symbol lookups on it."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This allows new symbols to be added with newer kernel releases,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and allows the C library to detect available functionality at"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "run time when running under different kernel versions."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Oftentimes the C library will do detection with the first call and then"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cache the result for subsequent calls."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "All symbols are also versioned (using the GNU version format)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This allows the kernel to update the function signature without breaking"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "backward compatibility."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This means changing the arguments that the function accepts as well as the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "return value."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Thus, when looking up a symbol in the vDSO,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "you must always include the version"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to match the ABI you expect."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Typically the vDSO follows the naming convention of prefixing"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "all symbols with \"__vdso_\" or \"__kernel_\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "so as to distinguish them from other standard symbols."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "For example, the \"gettimeofday\" function is named \"__vdso_gettimeofday\"."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "You use the standard C calling conventions when calling"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "any of these functions."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "No need to worry about weird register or stack behavior."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " NOTES"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Source"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "When you compile the kernel,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "it will automatically compile and link the vDSO code for you."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "You will frequently find it under the architecture-specific directory:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "    find arch/$ARCH/ "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "name "
        },
        {
          "type": "ESCAPE",
          "content": "\\(aq"
        },
        {
          "type": "TEXT",
          "content": "*vdso*.so*"
        },
        {
          "type": "ESCAPE",
          "content": "\\(aq"
        },
        {
          "type": "TEXT",
          "content": " "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "o "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "name "
        },
        {
          "type": "ESCAPE",
          "content": "\\(aq"
        },
        {
          "type": "TEXT",
          "content": "*gate*.so*"
        },
        {
          "type": "ESCAPE",
          "content": "\\(aq"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " vDSO names"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The name of the vDSO varies across architectures."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "It will often show up in things like glibc's"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " ldd (1)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "output."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The exact name should not matter to any code, so do not hardcode it."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CW"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "l l."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "user ABI\tvDSO name"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "aarch64\tlinux"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "vdso.so.1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "arm\tlinux"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "vdso.so.1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "ia64\tlinux"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "gate.so.1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mips\tlinux"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "vdso.so.1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "ppc/32\tlinux"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "vdso32.so.1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "ppc/64\tlinux"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "vdso64.so.1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "s390\tlinux"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "vdso32.so.1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "s390x\tlinux"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "vdso64.so.1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "sh\tlinux"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "gate.so.1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "i386\tlinux"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "gate.so.1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "x86-64\tlinux"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "vdso.so.1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "x86/x32\tlinux"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "vdso.so.1"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TE",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " P"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " strace(1), seccomp(2), and the vDSO"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "When tracing systems calls with"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " strace (1),"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "symbols (system calls) that are exported by the vDSO will"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " not"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "appear in the trace output."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Those system calls will likewise not be visible to"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " seccomp (2)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "filters."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " ARCHITECTURE-SPECIFIC NOTES"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The subsections below provide architecture-specific notes"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "on the vDSO."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Note that the vDSO that is used is based on the ABI of your user-space code"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and not the ABI of the kernel."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Thus, for example,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "when you run an i386 32-bit ELF binary,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "you'll get the same vDSO regardless of whether you run it under"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "an i386 32-bit kernel or under an x86-64 64-bit kernel."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Therefore, the name of the user-space ABI should be used to determine"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "which of the sections below is relevant."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " ARM functions"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/arch/arm/vdso/vdso.lds.S"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Commit: 8512287a8165592466cb9cb347ba94892e9c56a5"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The table below lists the symbols exported by the vDSO."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CW"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "l l."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "symbol\tversion"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__vdso_gettimeofday\tLINUX_2.6 (exported since Linux 4.1)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__vdso_clock_gettime\tLINUX_2.6 (exported since Linux 4.1)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TE",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " P"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/arch/arm/kernel/entry-armv.S"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/Documentation/arm/kernel_user_helpers.txt"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Additionally, the ARM port has a code page full of utility functions."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Since it's just a raw page of code, there is no ELF information for doing"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "symbol lookups or versioning."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "It does provide support for different versions though."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "For information on this code page,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "it's best to refer to the kernel documentation"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "as it's extremely detailed and covers everything you need to know:"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/arm/kernel_user_helpers.txt ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " aarch64 functions"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/arch/arm64/kernel/vdso/vdso.lds.S"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The table below lists the symbols exported by the vDSO."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CW"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "l l."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "symbol\tversion"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_rt_sigreturn\tLINUX_2.6.39"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_gettimeofday\tLINUX_2.6.39"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_clock_gettime\tLINUX_2.6.39"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_clock_getres\tLINUX_2.6.39"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TE",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " P"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " bfin (Blackfin) functions"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/arch/blackfin/kernel/fixed_code.S"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See http://docs.blackfin.uclinux.org/doku.php?id=linux-kernel:fixed-code"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "As this CPU lacks a memory management unit (MMU),"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "it doesn't set up a vDSO in the normal sense."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Instead, it maps at boot time a few raw functions into"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a fixed location in memory."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "User-space applications then call directly into that region."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "There is no provision for backward compatibility"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "beyond sniffing raw opcodes,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "but as this is an embedded CPU, it can get away with things"
        },
        {
          "type": "ESCAPE",
          "content": "\\(em"
        },
        {
          "type": "TEXT",
          "content": "some of the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "object formats it runs aren't even ELF based (they're bFLT/FLAT)."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "For information on this code page,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "it's best to refer to the public documentation:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".br",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "http://docs.blackfin.uclinux.org/doku.php?id=linux"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "kernel:fixed"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "code"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " mips functions"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/arch/mips/vdso/vdso.ld.S"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The table below lists the symbols exported by the vDSO."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CW"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "l l."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "symbol\tversion"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_gettimeofday\tLINUX_2.6 (exported since Linux 4.4)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_clock_gettime\tLINUX_2.6 (exported since Linux 4.4)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TE",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " P"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " ia64 (Itanium) functions"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/arch/ia64/kernel/gate.lds.S"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Also linux/arch/ia64/kernel/fsys.S and linux/Documentation/ia64/fsys.txt"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The table below lists the symbols exported by the vDSO."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CW"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "l l."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "symbol\tversion"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_sigtramp\tLINUX_2.5"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_syscall_via_break\tLINUX_2.5"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_syscall_via_epc\tLINUX_2.5"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TE",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " P"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The Itanium port is somewhat tricky."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "In addition to the vDSO above, it also has \"light-weight system calls\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(also known as \"fast syscalls\" or \"fsys\")."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "You can invoke these via the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " __kernel_syscall_via_epc"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "vDSO helper."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The system calls listed here have the same semantics as if you called them"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "directly via"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " syscall (2),"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "so refer to the relevant"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "documentation for each."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The table below lists the functions available via this mechanism."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CW"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "l."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "function"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "clock_gettime"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "getcpu"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "getpid"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "getppid"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "gettimeofday"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "set_tid_address"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TE",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " P"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " parisc (hppa) functions"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/arch/parisc/kernel/syscall.S"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/Documentation/parisc/registers"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The parisc port has a code page with utility functions"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "called a gateway page."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Rather than use the normal ELF auxiliary vector approach,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "it passes the address of"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the page to the process via the SR2 register."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The permissions on the page are such that merely executing those addresses"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "automatically executes with kernel privileges and not in user space."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is done to match the way HP-UX works."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Since it's just a raw page of code, there is no ELF information for doing"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "symbol lookups or versioning."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Simply call into the appropriate offset via the branch instruction,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "for example:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "    ble <offset>(%sr2, %r0)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CW"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "l l."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "offset\tfunction"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "00b0\tlws_entry (CAS operations)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "00e0\tset_thread_pointer (used by glibc)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "0100\tlinux_gateway_entry (syscall)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TE",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " P"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " ppc/32 functions"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/arch/powerpc/kernel/vdso32/vdso32.lds.S"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The table below lists the symbols exported by the vDSO."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The functions marked with a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "are available only when the kernel is"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a PowerPC64 (64-bit) kernel."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CW"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "l l."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "symbol\tversion"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_clock_getres\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_clock_gettime\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_datapage_offset\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_get_syscall_map\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_get_tbfreq\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_getcpu "
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "I*"
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "R\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_gettimeofday\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_sigtramp_rt32\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_sigtramp32\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_sync_dicache\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_sync_dicache_p5\tLINUX_2.6.15"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TE",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " P"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CLOCK_REALTIME_COARSE"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CLOCK_MONOTONIC_COARSE"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "clocks are"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " not"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "supported by the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " __kernel_clock_getres"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " __kernel_clock_gettime"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "interfaces;"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the kernel falls back to the real system call."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " ppc/64 functions"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/arch/powerpc/kernel/vdso64/vdso64.lds.S"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The table below lists the symbols exported by the vDSO."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CW"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "l l."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "symbol\tversion"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_clock_getres\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_clock_gettime\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_datapage_offset\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_get_syscall_map\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_get_tbfreq\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_getcpu\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_gettimeofday\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_sigtramp_rt64\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_sync_dicache\tLINUX_2.6.15"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_sync_dicache_p5\tLINUX_2.6.15"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TE",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " P"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CLOCK_REALTIME_COARSE"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CLOCK_MONOTONIC_COARSE"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "clocks are"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " not"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "supported by the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " __kernel_clock_getres"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " __kernel_clock_gettime"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "interfaces;"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the kernel falls back to the real system call."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " s390 functions"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/arch/s390/kernel/vdso32/vdso32.lds.S"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The table below lists the symbols exported by the vDSO."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CW"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "l l."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "symbol\tversion"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_clock_getres\tLINUX_2.6.29"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_clock_gettime\tLINUX_2.6.29"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_gettimeofday\tLINUX_2.6.29"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TE",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " P"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " s390x functions"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/arch/s390/kernel/vdso64/vdso64.lds.S"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The table below lists the symbols exported by the vDSO."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CW"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "l l."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "symbol\tversion"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_clock_getres\tLINUX_2.6.29"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_clock_gettime\tLINUX_2.6.29"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_gettimeofday\tLINUX_2.6.29"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TE",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " P"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " sh (SuperH) functions"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/arch/sh/kernel/vsyscall/vsyscall.lds.S"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The table below lists the symbols exported by the vDSO."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CW"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "l l."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "symbol\tversion"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_rt_sigreturn\tLINUX_2.6"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_sigreturn\tLINUX_2.6"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_vsyscall\tLINUX_2.6"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TE",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " P"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " i386 functions"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/arch/x86/vdso/vdso32/vdso32.lds.S"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The table below lists the symbols exported by the vDSO."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CW"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "l l."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "symbol\tversion"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_sigreturn\tLINUX_2.5"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_rt_sigreturn\tLINUX_2.5"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__kernel_vsyscall\tLINUX_2.5"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Added in 7a59ed415f5b57469e22e41fc4188d5399e0b194 and updated"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" in 37c975545ec63320789962bf307f000f08fabd48."
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "__vdso_clock_gettime\tLINUX_2.6 (exported since Linux 3.15)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__vdso_gettimeofday\tLINUX_2.6 (exported since Linux 3.15)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__vdso_time\tLINUX_2.6 (exported since Linux 3.15)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TE",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " P"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " x86-64 functions"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/arch/x86/vdso/vdso.lds.S"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The table below lists the symbols exported by the vDSO."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "All of these symbols are also available without the \"__vdso_\" prefix, but"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "you should ignore those and stick to the names below."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CW"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "l l."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "symbol\tversion"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__vdso_clock_gettime\tLINUX_2.6"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__vdso_getcpu\tLINUX_2.6"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__vdso_gettimeofday\tLINUX_2.6"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__vdso_time\tLINUX_2.6"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TE",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " P"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " x86/x32 functions"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See linux/arch/x86/vdso/vdso32.lds.S"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The table below lists the symbols exported by the vDSO."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CW"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "l l."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "symbol\tversion"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__vdso_clock_gettime\tLINUX_2.6"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__vdso_getcpu\tLINUX_2.6"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__vdso_gettimeofday\tLINUX_2.6"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "__vdso_time\tLINUX_2.6"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TE",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".if",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " t "
        },
        {
          "type": "ESCAPE",
          "content": "\\{"
        },
        {
          "type": "ESCAPE",
          "content": "\\"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".ft",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " P"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "ESCAPE",
          "content": "\\}"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " History"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The vDSO was originally just a single function"
        },
        {
          "type": "ESCAPE",
          "content": "\\(em"
        },
        {
          "type": "TEXT",
          "content": "the vsyscall."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "In older kernels, you might see that name"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in a process's memory map rather than \"vdso\"."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Over time, people realized that this mechanism"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "was a great way to pass more functionality"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to user space, so it was reconceived as a vDSO in the current format."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " SEE ALSO"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " syscalls (2),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " getauxval (3),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " proc (5)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The documents, examples, and source code in the Linux source code tree:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Documentation/ABI/stable/vdso"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Documentation/ia64/fsys.txt"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Documentation/vDSO/* (includes examples of using the vDSO)"
        }
      ]
    ]
  },
  {
    "type": "empty",
    "lines": [
      [

      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "find arch/ "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "iname "
        },
        {
          "type": "ESCAPE",
          "content": "\\(aq"
        },
        {
          "type": "TEXT",
          "content": "*vdso*"
        },
        {
          "type": "ESCAPE",
          "content": "\\(aq"
        },
        {
          "type": "TEXT",
          "content": " "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "o "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "iname "
        },
        {
          "type": "ESCAPE",
          "content": "\\(aq"
        },
        {
          "type": "TEXT",
          "content": "*gate*"
        },
        {
          "type": "ESCAPE",
          "content": "\\(aq"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  }
]
