[
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Copyright (C) Markus Kuhn, 1996, 2001"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" %%%LICENSE_START(GPLv2+_DOC_FULL)"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" This is free documentation; you can redistribute it and/or"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" modify it under the terms of the GNU General Public License as"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" published by the Free Software Foundation; either version 2 of"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" the License, or (at your option) any later version."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" The GNU General Public License's references to \"object code\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" and \"executables\" are to be interpreted as the output of any"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" document formatting or typesetting system, including"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" intermediate and printed output."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" This manual is distributed in the hope that it will be useful,"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" but WITHOUT ANY WARRANTY; without even the implied warranty of"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" GNU General Public License for more details."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" You should have received a copy of the GNU General Public"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" License along with this manual; if not, see"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" <http://www.gnu.org/licenses/>."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" %%%LICENSE_END"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" 1995-11-26  Markus Kuhn <mskuhn@cip.informatik.uni-erlangen.de>"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\"      First version written"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" 2001-05-11  Markus Kuhn <mgk25@cl.cam.ac.uk>"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\"      Update"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TH",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " UTF-8 7 2016-07-17 \"GNU\" \"Linux Programmer's Manual\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " NAME"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "UTF-8 "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": " an ASCII compatible multibyte Unicode encoding"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " DESCRIPTION"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The Unicode 3.0 character set occupies a 16-bit code space."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The most obvious"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Unicode encoding (known as UCS-2)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "consists of a sequence of 16-bit words."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Such strings can contain"
        },
        {
          "type": "ESCAPE",
          "content": "\\(em"
        },
        {
          "type": "TEXT",
          "content": "as part of many 16-bit characters"
        },
        {
          "type": "ESCAPE",
          "content": "\\(em"
        },
        {
          "type": "TEXT",
          "content": "bytes"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "such as "
        },
        {
          "type": "ESCAPE",
          "content": "\\(aq"
        },
        {
          "type": "ESCAPE",
          "content": "\\\\"
        },
        {
          "type": "TEXT",
          "content": "0"
        },
        {
          "type": "ESCAPE",
          "content": "\\(aq"
        },
        {
          "type": "TEXT",
          "content": " or "
        },
        {
          "type": "ESCAPE",
          "content": "\\(aq"
        },
        {
          "type": "TEXT",
          "content": "/"
        },
        {
          "type": "ESCAPE",
          "content": "\\(aq"
        },
        {
          "type": "TEXT",
          "content": ", which have a"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "special meaning in filenames and other C library function arguments."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "In addition, the majority of UNIX tools expect ASCII files and can't"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "read 16-bit words as characters without major modifications."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "For these reasons,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "UCS-2 is not a suitable external encoding of Unicode"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in filenames, text files, environment variables, and so on."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The ISO 10646 Universal Character Set (UCS),"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a superset of Unicode, occupies an even larger code"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "space"
        },
        {
          "type": "ESCAPE",
          "content": "\\(em"
        },
        {
          "type": "TEXT",
          "content": "31"
        },
        {
          "type": "ESCAPE",
          "content": "\\ "
        },
        {
          "type": "TEXT",
          "content": "bits"
        },
        {
          "type": "ESCAPE",
          "content": "\\(em"
        },
        {
          "type": "TEXT",
          "content": "and the obvious"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "UCS-4 encoding for it (a sequence of 32-bit words) has the same problems."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The UTF-8 encoding of Unicode and UCS"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "does not have these problems and is the common way in which"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Unicode is used on UNIX-style operating systems."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Properties"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The UTF-8 encoding has the following nice properties:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 0.2i"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "*"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "UCS"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "characters 0x00000000 to 0x0000007f (the classic US-ASCII"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "characters) are encoded simply as bytes 0x00 to 0x7f (ASCII"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "compatibility)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This means that files and strings which contain only"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "7-bit ASCII characters have the same encoding under both"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "ASCII"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "UTF-8 ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "*"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "All UCS characters greater than 0x7f are encoded as a multibyte sequence"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "consisting only of bytes in the range 0x80 to 0xfd, so no ASCII"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "byte can appear as part of another character and there are no"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "problems with, for example,  "
        },
        {
          "type": "ESCAPE",
          "content": "\\(aq"
        },
        {
          "type": "ESCAPE",
          "content": "\\\\"
        },
        {
          "type": "TEXT",
          "content": "0"
        },
        {
          "type": "ESCAPE",
          "content": "\\(aq"
        },
        {
          "type": "TEXT",
          "content": " or "
        },
        {
          "type": "ESCAPE",
          "content": "\\(aq"
        },
        {
          "type": "TEXT",
          "content": "/"
        },
        {
          "type": "ESCAPE",
          "content": "\\(aq"
        },
        {
          "type": "TEXT",
          "content": "."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "*"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The lexicographic sorting order of UCS-4 strings is preserved."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "*"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "All possible 2^31 UCS codes can be encoded using UTF-8."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "*"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The bytes 0xc0, 0xc1, 0xfe, and 0xff are never used in the UTF-8 encoding."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "*"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The first byte of a multibyte sequence which represents a single non-ASCII"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "UCS character is always in the range 0xc2 to 0xfd and indicates how long"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "this multibyte sequence is."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "All further bytes in a multibyte sequence"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "are in the range 0x80 to 0xbf."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This allows easy resynchronization and"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "makes the encoding stateless and robust against missing bytes."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "*"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "UTF-8 encoded UCS characters may be up to six bytes long, however the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Unicode standard specifies no characters above 0x10ffff, so Unicode characters"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "can be only up to four bytes long in"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "UTF-8."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Encoding"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The following byte sequences are used to represent a character."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The sequence to be used depends on the UCS code number of the character:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 0.4i"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "0x00000000 "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": " 0x0000007F:"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 0 xxxxxxx"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "0x00000080 "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": " 0x000007FF:"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 110 xxxxx"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 10 xxxxxx"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "0x00000800 "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": " 0x0000FFFF:"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 1110 xxxx"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 10 xxxxxx"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 10 xxxxxx"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "0x00010000 "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": " 0x001FFFFF:"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 11110 xxx"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 10 xxxxxx"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 10 xxxxxx"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 10 xxxxxx"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "0x00200000 "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": " 0x03FFFFFF:"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 111110 xx"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 10 xxxxxx"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 10 xxxxxx"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 10 xxxxxx"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 10 xxxxxx"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "0x04000000 "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": " 0x7FFFFFFF:"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 1111110 x"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 10 xxxxxx"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 10 xxxxxx"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 10 xxxxxx"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 10 xxxxxx"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 10 xxxxxx"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " xxx"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "bit positions are filled with the bits of the character code number in"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "binary representation, most significant bit first (big-endian)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Only the shortest possible multibyte sequence"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "which can represent the code number of the character can be used."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The UCS code values 0xd800"
        },
        {
          "type": "ESCAPE",
          "content": "\\(en"
        },
        {
          "type": "TEXT",
          "content": "0xdfff (UTF-16 surrogates) as well as 0xfffe and"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "0xffff (UCS noncharacters) should not appear in conforming UTF-8 streams. According"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to RFC 3629 no point above U+10FFFF should be used, which limits characters to four"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "bytes."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Example"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The Unicode character 0xa9 = 1010 1001 (the copyright sign) is encoded"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in UTF-8 as"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "11000010 10101001 = 0xc2 0xa9"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RE",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "and character 0x2260 = 0010 0010 0110 0000 (the \"not equal\" symbol) is"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "encoded as:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "11100010 10001001 10100000 = 0xe2 0x89 0xa0"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RE",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Application notes"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Users have to select a UTF-8 locale, for example with"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "export LANG=en_GB.UTF-8"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RE",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "in order to activate the UTF-8 support in applications."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Application software that has to be aware of the used character"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "encoding should always set the locale with for example"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "setlocale(LC_CTYPE, \"\")"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RE",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "and programmers can then test the expression"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "strcmp(nl_langinfo(CODESET), \"UTF-8\") == 0"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RE",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "to determine whether a UTF-8 locale has been selected and whether"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "therefore all plaintext standard input and output, terminal"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "communication, plaintext file content, filenames and environment"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "variables are encoded in UTF-8."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Programmers accustomed to single-byte encodings such as US-ASCII or ISO 8859"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "have to be aware that two assumptions made so far are no longer valid"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in UTF-8 locales."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Firstly, a single byte does not necessarily correspond any"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "more to a single character."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Secondly, since modern terminal emulators in UTF-8"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mode also support Chinese, Japanese, and Korean"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "double-width characters as well as nonspacing combining characters,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "outputting a single character does not necessarily advance the cursor"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "by one position as it did in ASCII."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Library functions such as"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " mbsrtowcs (3)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " wcswidth (3)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "should be used today to count characters and cursor positions."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The official ESC sequence to switch from an ISO 2022"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "encoding scheme (as used for instance by VT100 terminals) to"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "UTF-8 is ESC % G"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(\""
        },
        {
          "type": "ESCAPE",
          "content": "\\\\"
        },
        {
          "type": "TEXT",
          "content": "x1b%G\")."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The corresponding return sequence from"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "UTF-8 to ISO 2022 is ESC % @ (\""
        },
        {
          "type": "ESCAPE",
          "content": "\\\\"
        },
        {
          "type": "TEXT",
          "content": "x1b%@\")."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Other ISO 2022 sequences (such as"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "for switching the G0 and G1 sets) are not applicable in UTF-8 mode."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Security"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The Unicode and UCS standards require that producers of UTF-8"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "shall use the shortest form possible, for example, producing a two-byte"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "sequence with first byte 0xc0 is nonconforming."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Unicode 3.1 has added the requirement that conforming programs must not accept"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "non-shortest forms in their input."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is for security reasons: if"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "user input is checked for possible security violations, a program"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "might check only for the ASCII"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "version of \"/../\" or \";\" or NUL and overlook that there are many"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "non-ASCII ways to represent these things in a non-shortest UTF-8"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "encoding."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Standards"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "ISO/IEC 10646-1:2000, Unicode 3.1, RFC"
        },
        {
          "type": "ESCAPE",
          "content": "\\ "
        },
        {
          "type": "TEXT",
          "content": "3629, Plan 9."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" .SH AUTHOR"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Markus Kuhn <mgk25@cl.cam.ac.uk>"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " SEE ALSO"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " locale (1),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " nl_langinfo (3),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " setlocale (3),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " charsets (7),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " unicode (7)"
        }
      ]
    ]
  }
]
