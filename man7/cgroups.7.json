[
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Copyright (C) 2015 Serge Hallyn <serge@hallyn.com>"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" and Copyright (C) 2016, 2017 Michael Kerrisk <mtk.manpages@gmail.com>"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" %%%LICENSE_START(VERBATIM)"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Permission is granted to make and distribute verbatim copies of this"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" manual provided the copyright notice and this permission notice are"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" preserved on all copies."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Permission is granted to copy and distribute modified versions of this"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" manual under the conditions for verbatim copying, provided that the"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" entire resulting derived work is distributed under the terms of a"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" permission notice identical to this one."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Since the Linux kernel and libraries are constantly changing, this"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" manual page may be incorrect or out-of-date.  The author(s) assume no"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" responsibility for errors or omissions, or for damages resulting from"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" the use of the information contained herein.  The author(s) may not"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" have taken the same level of care in the production of this manual,"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" which is licensed free of charge, as they might when working"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" professionally."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Formatted or processed versions of this manual, if unaccompanied by"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" the source, must acknowledge the copyright and authors of this work."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" %%%LICENSE_END"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TH",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CGROUPS 7 2018-02-02 \"Linux\" \"Linux Programmer's Manual\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " NAME"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "cgroups "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": " Linux control groups"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " DESCRIPTION"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Control groups, usually referred to as cgroups,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "are a Linux kernel feature which allow processes to"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "be organized into hierarchical groups whose usage of"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "various types of resources can then be limited and monitored."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The kernel's cgroup interface is provided through"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a pseudo-filesystem called cgroupfs."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Grouping is implemented in the core cgroup kernel code,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "while resource tracking and limits are implemented in"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a set of per-resource-type subsystems (memory, CPU, and so on)."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Terminology"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is a collection of processes that are bound to a set of"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "limits or parameters defined via the cgroup filesystem."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " subsystem"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is a kernel component that modifies the behavior of"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the processes in a cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Various subsystems have been implemented, making it possible to do things"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "such as limiting the amount of CPU time and memory available to a cgroup,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "accounting for the CPU time used by a cgroup,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and freezing and resuming execution of the processes in a cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Subsystems are sometimes also known as"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"resource controllers\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(or simply, controllers)."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The cgroups for a controller are arranged in a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " hierarchy ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This hierarchy is defined by creating, removing, and"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "renaming subdirectories within the cgroup filesystem."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "At each level of the hierarchy, attributes (e.g., limits) can be defined."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The limits, control, and accounting provided by cgroups generally have"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "effect throughout the subhierarchy underneath the cgroup where the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "attributes are defined."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Thus, for example, the limits placed on"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a cgroup at a higher level in the hierarchy cannot be exceeded"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "by descendant cgroups."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Cgroups version 1 and version 2"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The initial release of the cgroups implementation was in Linux 2.6.24."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Over time, various cgroup controllers have been added"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to allow the management of various types of resources."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "However, the development of these controllers was largely uncoordinated,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "with the result that many inconsistencies arose between controllers"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and management of the cgroup hierarchies became rather complex."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(A longer description of these problems can be found in"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/cgroup"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "v2.txt .)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Because of the problems with the initial cgroups implementation"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(cgroups version 1),"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "starting in Linux 3.10, work began on a new,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "orthogonal implementation to remedy these problems."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Initially marked experimental, and hidden behind the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \""
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "o"
        },
        {
          "type": "ESCAPE",
          "content": "\\ "
        },
        {
          "type": "TEXT",
          "content": "__DEVEL__sane_behavior\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mount option, the new version (cgroups version 2)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "was eventually made official with the release of Linux 4.5."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Differences between the two versions are described in the text below."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Although cgroups v2 is intended as a replacement for cgroups v1,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the older system continues to exist"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(and for compatibility reasons is unlikely to be removed)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Currently, cgroups v2 implements only a subset of the controllers"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "available in cgroups v1."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The two systems are implemented so that both v1 controllers and"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "v2 controllers can be mounted on the same system."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Thus, for example, it is possible to use those controllers"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that are supported under version 2,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "while also using version 1 controllers"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "where version 2 does not yet support those controllers."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The only restriction here is that a controller can't be simultaneously"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "employed in both a cgroups v1 hierarchy and in the cgroups v2 hierarchy."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " CGROUPS VERSION 1"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Under cgroups v1, each controller may be mounted against a separate"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup filesystem that provides its own hierarchical organization of the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "processes on the system."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "It is also possible to comount multiple (or even all) cgroups v1 controllers"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "against the same cgroup filesystem, meaning that the comounted controllers"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "manage the same hierarchical organization of processes."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "For each mounted hierarchy,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the directory tree mirrors the control group hierarchy."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Each control group is represented by a directory, with each of its child"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "control cgroups represented as a child directory."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "For instance,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /user/joe/1.session"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "represents control group"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 1.session ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "which is a child of cgroup"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " joe ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "which is a child of"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /user ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Under each cgroup directory is a set of files which can be read or"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "written to, reflecting resource limits and a few general cgroup"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "properties."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Tasks (threads) versus processes"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "In cgroups v1, a distinction is drawn between"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " processes"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " tasks ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "In this view, a process can consist of multiple tasks"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(more commonly called threads, from a user-space perspective,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and called such in the remainder of this man page)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "In cgroups v1, it is possible to independently manipulate"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the cgroup memberships of the threads in a process."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The cgroups v1 ability to split threads across different cgroups"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "caused problems in some cases."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "For example, it made no sense for the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " memory"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controller,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "since all of the threads of a process share a single address space."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Because of these problems,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the ability to independently manipulate the cgroup memberships"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "of the threads in a process was removed in the initial cgroups v2"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "implementation, and subsequently restored in a more limited form"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(see the discussion of \"thread mode\" below)."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Mounting v1 controllers"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The use of cgroups requires a kernel built with the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CONFIG_CGROUP"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "option."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "In addition, each of the v1 controllers has an associated"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "configuration option that must be set in order to employ that controller."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "In order to use a v1 controller,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "it must be mounted against a cgroup filesystem."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The usual place for such mounts is under a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " tmpfs (5)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "filesystem mounted at"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /sys/fs/cgroup ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Thus, one might mount the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpu"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controller as follows:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mount "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "t cgroup "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "o cpu none /sys/fs/cgroup/cpu"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "It is possible to comount multiple controllers against the same hierarchy."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "For example, here the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpu"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpuacct"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controllers are comounted against a single hierarchy:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mount "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "t cgroup "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "o cpu,cpuacct none /sys/fs/cgroup/cpu,cpuacct"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Comounting controllers has the effect that a process is in the same cgroup for"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "all of the comounted controllers."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Separately mounting controllers allows a process to"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "be in cgroup"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /foo1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "for one controller while being in"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /foo2/foo3"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "for another."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "It is possible to comount all v1 controllers against the same hierarchy:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mount "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "t cgroup "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "o all cgroup /sys/fs/cgroup"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "(One can achieve the same result by omitting"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \""
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "o all\" ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "since it is the default if no controllers are explicitly specified.)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "It is not possible to mount the same controller"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "against multiple cgroup hierarchies."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "For example, it is not possible to mount both the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpu"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpuacct"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controllers against one hierarchy, and to mount the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpu"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controller alone against another hierarchy."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "It is possible to create multiple mount points with exactly"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the same set of comounted controllers."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "However, in this case all that results is multiple mount points"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "providing a view of the same hierarchy."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Note that on many systems, the v1 controllers are automatically mounted under"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /sys/fs/cgroup ;"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in particular,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " systemd (1)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "automatically creates such mount points."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Unmounting v1 controllers"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A mounted cgroup filesystem can be unmounted using the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " umount (8)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "command, as in the following example:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "umount /sys/fs/cgroup/pids"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"But note well\" :"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a cgroup filesystem is unmounted only if it is not busy,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that is, it has no child cgroups."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "If this is not the case, then the only effect of the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " umount (8)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is to make the mount invisible."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Thus, to ensure that the mount point is really removed,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "one must first remove all child cgroups,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "which in turn can be done only after all member processes"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "have been moved from those cgroups to the root cgroup."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Cgroups version 1 controllers"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Each of the cgroups version 1 controllers is governed"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "by a kernel configuration option (listed below)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Additionally, the availability of the cgroups feature is governed by the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CONFIG_CGROUPS"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "kernel configuration option."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpu \" (since Linux 2.6.24; \" "
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "BCONFIG_CGROUP_SCHED"
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "P )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Cgroups can be guaranteed a minimum number of \"CPU shares\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "when a system is busy."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This does not limit a cgroup's CPU usage if the CPUs are not busy."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "For further information, see"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/scheduler/sched-design-CFS.txt ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "In Linux 3.2,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "this controller was extended to provide CPU \"bandwidth\" control."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "If the kernel is configured with"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CONFIG_CFS_BANDWIDTH ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "then within each scheduling period"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(defined via a file in the cgroup directory), it is possible to define"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "an upper limit on the CPU time allocated to the processes in a cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This upper limit applies even if there is no other competition for the CPU."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Further information can be found in the kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/scheduler/sched"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "bwc.txt ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpuacct \" (since Linux 2.6.24; \" "
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "BCONFIG_CGROUP_CPUACCT"
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "P )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This provides accounting for CPU usage by groups of processes."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Further information can be found in the kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/cgroup"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "v1/cpuacct.txt ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpuset \" (since Linux 2.6.24; \" "
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "BCONFIG_CPUSETS"
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "P )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This cgroup can be used to bind the processes in a cgroup to"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a specified set of CPUs and NUMA nodes."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Further information can be found in the kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/cgroup"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "v1/cpusets.txt ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " memory \" (since Linux 2.6.25; \" "
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "BCONFIG_MEMCG"
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "P )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The memory controller supports reporting and limiting of process memory, kernel"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "memory, and swap used by cgroups."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Further information can be found in the kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/cgroup"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "v1/memory.txt ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " devices \" (since Linux 2.6.26; \" "
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "BCONFIG_CGROUP_DEVICE"
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "P )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This supports controlling which processes may create (mknod) devices as"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "well as open them for reading or writing."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The policies may be specified as whitelists and blacklists."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Hierarchy is enforced, so new rules must not"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "violate existing rules for the target or ancestor cgroups."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Further information can be found in the kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/cgroup-v1/devices.txt ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " freezer \" (since Linux 2.6.28; \" "
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "BCONFIG_CGROUP_FREEZER"
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "P )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " freezer"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup can suspend and restore (resume) all processes in a cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Freezing a cgroup"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /A"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "also causes its children, for example, processes in"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /A/B ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to be frozen."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Further information can be found in the kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/cgroup-v1/freezer-subsystem.txt ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " net_cls \" (since Linux 2.6.29; \" "
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "BCONFIG_CGROUP_NET_CLASSID"
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "P )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This places a classid, specified for the cgroup, on network packets"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "created by a cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "These classids can then be used in firewall rules,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "as well as used to shape traffic using"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " tc (8)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This applies only to packets"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "leaving the cgroup, not to traffic arriving at the cgroup."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Further information can be found in the kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/cgroup-v1/net_cls.txt ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " blkio \" (since Linux 2.6.33; \" "
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "BCONFIG_BLK_CGROUP"
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "P )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " blkio"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup controls and limits access to specified block devices by"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "applying IO control in the form of throttling and upper limits against leaf"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "nodes and intermediate nodes in the storage hierarchy."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Two policies are available."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The first is a proportional-weight time-based division"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "of disk implemented with CFQ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is in effect for leaf nodes using CFQ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The second is a throttling policy which specifies"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "upper I/O rate limits on a device."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Further information can be found in the kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/cgroup-v1/blkio-controller.txt ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " perf_event \" (since Linux 2.6.39; \" "
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "BCONFIG_CGROUP_PERF"
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "P )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This controller allows"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " perf"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "monitoring of the set of processes grouped in a cgroup."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Further information can be found in the kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " tools/perf/Documentation/perf-record.txt ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " net_prio \" (since Linux 3.3; \" "
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "BCONFIG_CGROUP_NET_PRIO"
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "P )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This allows priorities to be specified, per network interface, for cgroups."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Further information can be found in the kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/cgroup-v1/net_prio.txt ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " hugetlb \" (since Linux 3.5; \" "
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "BCONFIG_CGROUP_HUGETLB"
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "P )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This supports limiting the use of huge pages by cgroups."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Further information can be found in the kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/cgroup-v1/hugetlb.txt ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " pids \" (since Linux 4.3; \" "
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "BCONFIG_CGROUP_PIDS"
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "P )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This controller permits limiting the number of process that may be created"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in a cgroup (and its descendants)."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Further information can be found in the kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/cgroup-v1/pids.txt ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " rdma \" (since Linux 4.11; \" "
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "BCONFIG_CGROUP_RDMA"
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "P )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The RDMA controller permits limiting the use of"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "RDMA/IB-specific resources per cgroup."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Further information can be found in the kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/cgroup-v1/rdma.txt ."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Creating cgroups and moving processes"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A cgroup filesystem initially contains a single root cgroup, '/',"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "which all processes belong to."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "A new cgroup is created by creating a directory in the cgroup filesystem:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mkdir /sys/fs/cgroup/cpu/cg1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "This creates a new empty cgroup."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A process may be moved to this cgroup by writing its PID into the cgroup's"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.procs"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "echo $$ > /sys/fs/cgroup/cpu/cg1/cgroup.procs"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Only one PID at a time should be written to this file."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Writing the value 0 to a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.procs"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file causes the writing process to be moved to the corresponding cgroup."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "When writing a PID into the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.procs ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "all threads in the process are moved into the new cgroup at once."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Within a hierarchy, a process can be a member of exactly one cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Writing a process's PID to a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.procs"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file automatically removes it from the cgroup of"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "which it was previously a member."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.procs"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file can be read to obtain a list of the processes that are"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "members of a cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The returned list of PIDs is not guaranteed to be in order."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Nor is it guaranteed to be free of duplicates."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(For example, a PID may be recycled while reading from the list.)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "In cgroups v1, an individual thread can be moved to"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "another cgroup by writing its thread ID"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(i.e., the kernel thread ID returned by"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " clone (2)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " gettid (2))"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " tasks"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file in a cgroup directory."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This file can be read to discover the set of threads"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that are members of the cgroup."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Removing cgroups"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "To remove a cgroup,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "it must first have no child cgroups and contain no (nonzombie) processes."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "So long as that is the case, one can simply"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "remove the corresponding directory pathname."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Note that files in a cgroup directory cannot and need not be"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "removed."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Cgroups v1 release notification"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Two files can be used to determine whether the kernel provides"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "notifications when a cgroup becomes empty."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "A cgroup is considered to be empty when it contains no child"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroups and no member processes."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A special file in the root directory of each cgroup hierarchy,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " release_agent ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "can be used to register the pathname of a program that may be invoked when"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a cgroup in the hierarchy becomes empty."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The pathname of the newly empty cgroup (relative to the cgroup mount point)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is provided as the sole command-line argument when the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " release_agent"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "program is invoked."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " release_agent"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "program might remove the cgroup directory,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "or perhaps repopulate it with a process."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The default value of the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " release_agent"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file is empty, meaning that no release agent is invoked."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The content of the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " release_agent"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file can also be specified via a mount option when the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup filesystem is mounted:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mount -o release_agent=pathname ..."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Whether or not the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " release_agent"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "program is invoked when a particular cgroup becomes empty is determined"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "by the value in the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " notify_on_release"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file in the corresponding cgroup directory."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "If this file contains the value 0, then the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " release_agent"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "program is not invoked."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "If it contains the value 1, the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " release_agent"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "program is invoked."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The default value for this file in the root cgroup is 0."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "At the time when a new cgroup is created,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the value in this file is inherited from the corresponding file"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in the parent cgroup."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Cgroup v1 named hierarchies"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "In cgroups v1,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "it is possible to mount a cgroup hierarchy that has no attached controllers:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mount -t cgroup -o none,name=somename none /some/mount/point"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Multiple instances of such hierarchies can be mounted;"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "each hierarchy must have a unique name."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The only purpose of such hierarchies is to track processes."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(See the discussion of release notification below.)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "An example of this is the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " name=systemd"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup hierarchy that is used by"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " systemd (1)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to track services and user sessions."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " CGROUPS VERSION 2"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "In cgroups v2,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "all mounted controllers reside in a single unified hierarchy."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "While (different) controllers may be simultaneously"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mounted under the v1 and v2 hierarchies,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "it is not possible to mount the same controller simultaneously"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "under both the v1 and the v2 hierarchies."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The new behaviors in cgroups v2 are summarized here,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and in some cases elaborated in the following subsections."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " 1. 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Cgroups v2 provides a unified hierarchy against"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "which all controllers are mounted."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " 2."
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "\"Internal\" processes are not permitted."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "With the exception of the root cgroup, processes may reside"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "only in leaf nodes (cgroups that do not themselves contain child cgroups)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The details are somewhat more subtle than this, and are described below."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " 3."
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Active cgroups must be specified via the files"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.controllers"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.subtree_control ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " 4."
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " tasks"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file has been removed."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "In addition, the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.clone_children"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file that is employed by the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpuset"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controller has been removed."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " 5."
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "An improved mechanism for notification of empty cgroups is provided by the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.events"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "For more changes, see the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/cgroup-v2.txt"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file in the kernel source."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Some of the new behaviors listed above saw subsequent modification with"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the addition in Linux 4.14 of \"thread mode\" (described below)."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Cgroups v2 unified hierarchy"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "In cgroups v1, the ability to mount different controllers"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "against different hierarchies was intended to allow great flexibility"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "for application design."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "In practice, though, the flexibility turned out to less useful than expected,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and in many cases added complexity."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Therefore, in cgroups v2,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "all available controllers are mounted against a single hierarchy."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The available controllers are automatically mounted,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "meaning that it is not necessary (or possible) to specify the controllers"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "when mounting the cgroup v2 filesystem using a command such as the following:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mount -t cgroup2 none /mnt/cgroup2"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A cgroup v2 controller is available only if it is not currently in use"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "via a mount against a cgroup v1 hierarchy."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Or, to put things another way, it is not possible to employ"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the same controller against both a v1 hierarchy and the unified v2 hierarchy."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This means that it may be necessary first to unmount a v1 controller"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(as described above) before that controller is available in v2."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Since"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " systemd (1)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "makes heavy use of some v1 controllers by default,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "it can in some cases be simpler to boot the system with"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "selected v1 controllers disabled."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "To do this, specify the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup_no_v1=list"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "option on the kernel boot command line;"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " list"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is a comma-separated list of the names of the controllers to disable,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "or the word"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " all"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to disable all v1 controllers."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(This situation is correctly handled by"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " systemd (1),"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "which falls back to operating without the specified controllers.)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Note that on many modern systems,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " systemd (1)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "automatically mounts the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup2"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "filesystem at"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /sys/fs/cgroup/unified"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "during the boot process."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Cgroups v2 controllers"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The following controllers, documented in the kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/cgroup-v2.txt ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "are supported in cgroups version 2:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " io \" (since Linux 4.5)\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is the successor of the version 1"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " blkio"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controller."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " memory \" (since Linux 4.5)\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is the successor of the version 1"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " memory"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controller."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " pids \" (since Linux 4.5)\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is the same as the version 1"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " pids"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controller."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " perf_event \" (since Linux 4.11)\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is the same as the version 1"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " perf_event"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controller."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " rdma \" (since Linux 4.11)\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is the same as the version 1"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " rdma"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controller."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpu \" (since Linux 4.15)\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is the successor to the version 1"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpu"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpuacct"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controllers."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Cgroups v2 subtree control"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Each cgroup in the v2 hierarchy contains the following two files:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.controllers"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This read-only file exposes a list of the controllers that are"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " available"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in this cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The contents of this file match the contents of the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.subtree_control"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file in the parent cgroup."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.subtree_control"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is a list of controllers that are"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " active"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " ( enabled )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in the cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The set of controllers in this file is a subset of the set in the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.controllers"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "of this cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The set of active controllers is modified by writing strings to this file"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "containing space-delimited controller names,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "each preceded by '+' (to enable a controller)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "or '"
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "' (to disable a controller), as in the following example:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "echo '+pids -memory' > x/y/cgroup.subtree_control"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "An attempt to enable a controller"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that is not present in"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.controllers"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "leads to an"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " ENOENT"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "error when writing to the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.subtree_control"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Because the list of controllers in"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.subtree_control"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is a subset of those"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.controllers ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a controller that has been disabled in one cgroup in the hierarchy"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "can never be re-enabled in the subtree below that cgroup."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A cgroup's"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.subtree_control"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file determines the set of controllers that are exercised in the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " child"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroups."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "When a controller (e.g.,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " pids )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is present in the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.subtree_control"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file of a parent cgroup,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "then the corresponding controller-interface files (e.g.,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " pids.max )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "are automatically created in the children of that cgroup"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and can be used to exert resource control in the child cgroups."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Cgroups v2 \"\"\"no internal processes\"\"\" rule"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Cgroups v2 enforces a so-called \"no internal processes\" rule."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Roughly speaking, this rule means that,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "with the exception of the root cgroup, processes may reside"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "only in leaf nodes (cgroups that do not themselves contain child cgroups)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This avoids the need to decide how to partition resources between"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "processes which are members of cgroup A and processes in child cgroups of A."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "For instance, if cgroup"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /cg1/cg2"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "exists, then a process may reside in"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /cg1/cg2 ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "but not in"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /cg1 ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is to avoid an ambiguity in cgroups v1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "with respect to the delegation of resources between processes in"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /cg1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and its child cgroups."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The recommended approach in cgroups v2 is to create a subdirectory called"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " leaf"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "for any nonleaf cgroup which should contain processes, but no child cgroups."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Thus, processes which previously would have gone into"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /cg1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "would now go into"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /cg1/leaf ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This has the advantage of making explicit"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the relationship between processes in"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /cg1/leaf"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /cg1 's"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "other children."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The \"no internal processes\" rule is in fact more subtle than stated above."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "More precisely, the rule is that a (nonroot) cgroup can't both"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(1) have member processes, and"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(2) distribute resources into child cgroups"
        },
        {
          "type": "ESCAPE",
          "content": "\\(em"
        },
        {
          "type": "TEXT",
          "content": "that is, have a nonempty"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.subtree_control"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Thus, it"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " is"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "possible for a cgroup to have both member processes and child cgroups,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "but before controllers can be enabled for that cgroup,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the member processes must be moved out of the cgroup"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(e.g., perhaps into the child cgroups)."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "With the Linux 4.14 addition of \"thread mode\" (described below),"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the \"no internal processes\" rule has been relaxed in some cases."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Cgroups v2 cgroup.events file"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "With cgroups v2, a new mechanism is provided to obtain notification"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "about when a cgroup becomes empty."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The cgroups v1"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " release_agent"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " notify_on_release"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "files are removed, and replaced by a new, more general-purpose file,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.events ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This read-only file contains key-value pairs"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(delimited by newline characters, with the key and value separated by spaces)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that identify events or state for a cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Currently, only one key appears in this file,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " populated ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "which has either the value 0,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "meaning that the cgroup (and its descendants)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "contain no (nonzombie) processes,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "or 1, meaning that the cgroup contains member processes."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.events"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file can be monitored, in order to receive notification when a cgroup"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "transitions between the populated and unpopulated states (or vice versa)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "When monitoring this file using"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " inotify (7),"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "transitions generate"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " IN_MODIFY"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "events, and when monitoring the file using"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " poll (2),"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "transitions cause the bits"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " POLLPRI"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " POLLERR"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to be returned in the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " revents"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "field."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The cgroups v2 release-notification mechanism provided by the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " populated"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "field of the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.events"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file offers at least two advantages over the cgroups v1"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " release_agent"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mechanism."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "First, it allows for cheaper notification,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "since a single process can monitor multiple"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.events"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "files."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "By contrast, the cgroups v1 mechanism requires the creation"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "of a process for each notification."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Second, notification can be delegated to a process that lives inside"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a container associated with the newly empty cgroup."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Cgroups v2 cgroup.stat file"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit ec39225cca42c05ac36853d11d28f877fde5c42e"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Each cgroup in the v2 hierarchy contains a read-only"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.stat"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file (first introduced in Linux 4.14)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that consists of lines containing key-value pairs."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The following keys currently appear in this file:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " nr_descendants"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is the total number of visible (i.e., living) descendant cgroups"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "underneath this cgroup."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " nr_dying_descendants"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is the total number of dying descendant cgroups"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "underneath this cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "A cgroup enters the dying state after being deleted."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "It remains in that state for an undefined period"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(which will depend on system load)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "while resources are freed before the cgroup is destroyed."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Note that the presence of some cgroups in the dying state is normal,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and is not indicative of any problem."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A process can't be made a member of a dying cgroup,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and a dying cgroup can't be brought back to life."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Limiting the number of descendant cgroups"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Each cgroup in the v2 hierarchy contains the following files,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "which can be used to view and set limits on the number"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "of descendant cgroups under that cgroup:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.max.depth \" (since Linux 4.14)\""
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit 1a926e0bbab83bae8207d05a533173425e0496d1"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "This file defines a limit on the depth of nesting of descendant cgroups."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "A value of 0 in this file means that no descendant cgroups can be created."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "An attempt to create a descendant whose nesting level exceeds"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the limit fails"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " ( mkdir (2)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "fails with the error"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EAGAIN )."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Writing the string"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"\"\"max\"\"\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to this file means that no limit is imposed."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The default value in this file is"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"\"\"max\"\"\" ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.max.descendants \" (since Linux 4.14)\""
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit 1a926e0bbab83bae8207d05a533173425e0496d1"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "This file defines a limit on the number of live descendant cgroups that"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "this cgroup may have."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "An attempt to create more descendants than allowed by the limit fails"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " ( mkdir (2)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "fails with the error"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EAGAIN )."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Writing the string"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"\"\"max\"\"\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to this file means that no limit is imposed."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The default value in this file is"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"\"\"max\"\"\" ."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Cgroups v2 delegation: delegation to a less privileged user"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "In the context of cgroups,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "delegation means passing management of some subtree"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "of the cgroup hierarchy to a nonprivileged process."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Cgroups v1 provides support for delegation that was"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "accidental and not fully secure."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Cgroups v2 supports delegation by explicit design."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Some terminology is required in order to describe delegation."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "A"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " delegater"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is a privileged user (i.e., root) who owns a parent cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "A"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " delegatee"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is a nonprivileged user who will be granted the permissions needed"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to manage some subhierarchy under that parent cgroup,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "known as the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"delegated subtree\" ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "To perform delegation,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the delegater makes certain directories and files writable by the delegatee,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "typically by changing the ownership of the objects to be the user ID"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "of the delegatee."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Assuming that we want to delegate the hierarchy rooted at (say)"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /dlgt_grp"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and that there are not yet any child cgroups under that cgroup,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the ownership of the following is changed to the user ID of the delegatee:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /dlgt_grp"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Changing the ownership of the root of the subtree means that any new"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroups created under the subtree (and the files they contain)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "will also be owned by the delegatee."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /dlgt_grp/cgroup.procs"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Changing the ownership of this file means that the delegatee"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "can move processes into the root of the delegated subtree."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /dlgt_grp/cgroup.subtree_control"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Changing the ownership of this file means that that the delegatee"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "can enable controllers (that are present in"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /dlgt_grp/cgroup.controllers )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in order to further redistribute resources at lower levels in the subtree."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(As an alternative to changing the ownership of this file,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the delegater might instead add selected controllers to this file.)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /dlgt_grp/cgroup.threads"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Changing the ownership of this file is necessary if a threaded subtree"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is being delegated (see the description of \"thread mode\", below)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This permits the delegatee to write thread IDs to the file."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(The ownership of this file can also be changed when delegating"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a domain subtree, but currently this serves no purpose,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "since, as described below, it is not possible to move a thread between"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "domain cgroups by writing its thread ID to the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.tasks"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file.)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The delegater should"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " not"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "change the ownership of any of the controller interfaces files (e.g.,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " pids.max ,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " memory.high )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " dlgt_grp ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Those files are used from the next level above the delegated subtree"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in order to distribute resources into the subtree,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and the delegatee should not have permission to change"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the resources that are distributed into the delegated subtree."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "See also the discussion of the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /sys/kernel/cgroup/delegate"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file in NOTES."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "After the aforementioned steps have been performed,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the delegatee can create child cgroups within the delegated subtree"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(the cgroup subdirectories and the files they contain"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "will be owned by the delegatee)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and move processes between cgroups in the subtree."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "If some controllers are present in"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " dlgt_grp/cgroup.subtree_control ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "or the ownership of that file was passed to the delegatee,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the delegatee can also control the further redistribution"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "of the corresponding resources into the delegated subtree."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Cgroups v2 delegation: nsdelegate and cgroup namespaces"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Starting with Linux 4.13,"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit 5136f6365ce3eace5a926e10f16ed2a233db5ba9"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "there is a second way to perform cgroup delegation."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is done by mounting or remounting the cgroup v2 filesystem with the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " nsdelegate"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mount option."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "For example, if the cgroup v2 filesystem has already been mounted,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "we can remount it with the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " nsdelegate"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "option as follows:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mount -t cgroup2 -o remount,nsdelegate "
        },
        {
          "type": "ESCAPE",
          "content": "\\\\"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "                 none /sys/fs/cgroup/unified"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" ALternatively, we could boot the kernel with the options:"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\"    cgroup_no_v1=all systemd.legacy_systemd_cgroup_controller"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" The effect of the latter option is to prevent systemd from employing"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" its \"hybrid\" cgroup mode, where it tries to make use of cgroups v2."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The effect of this mount option is to cause cgroup namespaces"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to automatically become delegation boundaries."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "More specifically,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the following restrictions apply for processes inside the cgroup namespace:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " * 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Writes to controller interface files in the root directory of the namespace"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "will fail with the error"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EPERM ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Processes inside the cgroup namespace can still write to delegatable"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "files in the root directory of the cgroup namespace such as"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.procs"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.subtree_control ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and can create subhierarchy underneath the root directory."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Attempts to migrate processes across the namespace boundary are denied"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(with the error"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " ENOENT )."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Processes inside the cgroup namespace can still"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(subject to the containment rules described below)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "move processes between cgroups"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " within"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the subhierarchy under the namespace root."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The ability to define cgroup namespaces as delegation boundaries"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "makes cgroup namespaces more useful."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "To understand why, suppose that we already have one cgroup hierarchy"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that has been delegated to a nonprivileged user,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cecilia ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "using the older delegation technique described above."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Suppose further that"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cecilia"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "wanted to further delegate a subhierarchy"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "under the existing delegated hierarchy."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(For example, the delegated hierarchy might be associated with"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "an unprivileged container run by"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cecilia .)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Even if a cgroup namespace was employed,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "because both hierarchies are owned by the unprivileged user"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cecilia ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the following illegitimate actions could be performed:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " * 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A process in the inferior hierarchy could change the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "resource controller settings in the root directory of the that hierarchy."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(These resource controller settings are intended to allow control to"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "be exercised from the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " parent"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup;"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a process inside the child cgroup should not be allowed to modify them.)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A process inside the inferior hierarchy could move processes"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "into and out of the inferior hierarchy if the cgroups in the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "superior hierarchy were somehow visible."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Employing the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " nsdelegate"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mount option prevents both of these possibilities."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " nsdelegate"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mount option only has an effect when performed in"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the initial mount namespace;"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in other mount namespaces, the option is silently ignored."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Note :"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "On some systems,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " systemd (1)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "automatically mounts the cgroup v2 filesystem."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "In order to experiment with the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " nsdelegate"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "operation, it may be useful to boot the kernel with"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the following command-line options:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup_no_v1=all systemd.legacy_systemd_cgroup_controller"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "These options cause the kernel to boot with the cgroups v1 controllers"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "disabled (meaning that the controllers are available in the v2 hierarchy),"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and tells"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " systemd (1)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "not to mount and use the cgroup v2 hierarchy,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "so that the v2 hierarchy can be manually mounted"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "with the desired options after boot-up."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Cgroup v2 delegation containment rules"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Some delegation"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"containment rules\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "ensure that the delegatee can move processes between cgroups within the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "delegated subtree,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "but can't move processes from outside the delegated subtree into"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the subtree or vice versa."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "A nonprivileged process (i.e., the delegatee) can write the PID of"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a \"target\" process into a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.procs"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file only if all of the following are true:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " * 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The writer has write permission on the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.procs"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file in the destination cgroup."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The writer has write permission on the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.procs"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file in the nearest common ancestor of the source and destination cgroups."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(In some cases,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the nearest common ancestor may be the source or destination cgroup itself.)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "If the cgroup v2 filesystem was mounted with the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " nsdelegate"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "option, the writer must be able to see the source and destination cgroups"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "from its cgroup namespace."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Before Linux 4.11:"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit 576dd464505fc53d501bb94569db76f220104d28"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "the effective UID of the writer (i.e., the delegatee) matches the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "real user ID or the saved set-user-ID of the target process."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(This was a historical requirement inherited from cgroups v1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that was later deemed unnecessary,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "since the other rules suffice for containment in cgroups v2.)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Note :"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "one consequence of these delegation containment rules is that the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "unprivileged delegatee can't place the first process into"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the delegated subtree;"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "instead, the delegater must place the first process"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(a process owned by the delegatee) into the delegated subtree."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " CGROUPS VERSION 2 THREAD MODE"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Among the restrictions imposed by cgroups v2 that were not present"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in cgroups v1 are the following:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " * 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"No thread-granularity control\" :"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "all of the threads of a process must be in the same cgroup."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"No internal processes\" :"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a cgroup can't both have member processes and"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "exercise controllers on child cgroups."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Both of these restrictions were added because"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the lack of these restrictions had caused problems"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in cgroups v1."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "In particular, the cgroups v1 ability to allow thread-level granularity"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "for cgroup membership made no sense for some controllers."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(A notable example was the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " memory"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controller: since threads share an address space,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "it made no sense to split threads across different"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " memory"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroups.)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Notwithstanding the initial design decision in cgroups v2,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "there were use cases for certain controllers, notably the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpu"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controller,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "for which thread-level granularity of control was meaningful and useful."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "To accommodate such use cases, Linux 4.14 added"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"thread mode\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "for cgroups v2."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Thread mode allows the following:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " * 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The creation of"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"threaded subtrees\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in which the threads of a process may"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "be spread across cgroups inside the tree."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(A threaded subtree may contain multiple multithreaded processes.)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The concept of"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"threaded controllers\","
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "which can distribute resources across the cgroups in a threaded subtree."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A relaxation of the \"no internal processes rule\","
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "so that, within a threaded subtree,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a cgroup can both contain member threads and"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "exercise resource control over child cgroups."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "With the addition of thread mode,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "each nonroot cgroup now contains a new file,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.type ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that exposes, and in some circumstances can be used to change,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the \"type\" of a cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This file contains one of the following type values:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is a normal v2 cgroup that provides process-granularity control."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "If a process is a member of this cgroup,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "then all threads of the process are (by definition) in the same cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is the default cgroup type,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and provides the same behavior that was provided for"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroups in the initial cgroups v2 implementation."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"threaded\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This cgroup is a member of a threaded subtree."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Threads can be added to this cgroup,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and controllers can be enabled for the cgroup."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain threaded\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is a domain cgroup that serves as the root of a threaded subtree."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This cgroup type is also known as \"threaded root\"."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain invalid\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is a cgroup inside a threaded subtree"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that is in an \"invalid\" state."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Processes can't be added to the cgroup,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and controllers can't be enabled for the cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The only thing that can be done with this cgroup (other than deleting it)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is to convert it to a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup by writing the string"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"\"\"threaded\"\"\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.type"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The rationale for the existence of this \"interim\" type"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "during the creation of a threaded subtree"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(rather than the kernel simply immediately converting all cgroups"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "under the threaded root to the type"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is to allow for"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "possible future extensions to the thread mode model"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Threaded versus domain controllers"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "With the addition of threads mode,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroups v2 now distinguishes two types of resource controllers:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " * 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Threaded"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" In the kernel source, look for \".threaded[ \\t]*= true\" in"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" initializations of struct cgroup_subsys"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "controllers: these controllers support thread-granularity for"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "resource control and can be enabled inside threaded subtrees,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "with the result that the corresponding controller-interface files"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "appear inside the cgroups in the threaded subtree."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "As at Linux 4.19, the following controllers are threaded:"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpu ,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " perf_event ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " pids ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Domain"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controllers: these controllers support only process granularity"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "for resource control."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "From the perspective of a domain controller,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "all threads of a process are always in the same cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Domain controllers can't be enabled inside a threaded subtree."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Creating a threaded subtree"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "There are two pathways that lead to the creation of a threaded subtree."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The first pathway proceeds as follows:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " 1. 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "We write the string"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"\"\"threaded\"\"\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.type"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file of a cgroup"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " y/z"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that currently has the type"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " domain ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This has the following effects:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " * 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The type of the cgroup"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " y/z"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "becomes"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The type of the parent cgroup,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " y ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "becomes"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain threaded\" ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The parent cgroup is the root of a threaded subtree"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(also known as the \"threaded root\")."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "All other cgroups under"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " y"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that were not already of type"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(because they were inside already existing threaded subtrees"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "under the new threaded root)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "are converted to type"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain invalid\" ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Any subsequently created cgroups under"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " y"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "will also have the type"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain invalid\" ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RE",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " 2."
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "We write the string"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"\"\"threaded\"\"\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to each of the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain invalid\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroups under"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " y ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in order to convert them to the type"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "As a consequence of this step, all threads under the threaded root"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "now have the type"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and the threaded subtree is now fully usable."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The requirement to write"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"\"\"threaded\"\"\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to each of these cgroups is somewhat cumbersome,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "but allows for possible future extensions to the thread-mode model."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The second way of creating a threaded subtree is as follows:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " 1. 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "In an existing cgroup,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " z ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that currently has the type"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " domain ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "we (1) enable one or more threaded controllers and"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(2) make a process a member of"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " z ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(These two steps can be done in either order.)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This has the following consequences:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " * 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The type of"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " z"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "becomes"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain threaded\" ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "All of the descendant cgroups of"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " x"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that were not already of type"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "are converted to type"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain invalid\" ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RE",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " 2."
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "As before, we make the threaded subtree usable by writing the string"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"\"\"threaded\"\"\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to each of the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain invalid\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroups under"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " y ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in order to convert them to the type"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "One of the consequences of the above pathways to creating a threaded subtree"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is that the threaded root cgroup can be a parent only to"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain invalid\" )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroups."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The threaded root cgroup can't be a parent of a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " domain"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroups, and a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "can't have a sibling that is a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " domain"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Using a threaded subtree"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Within a threaded subtree, threaded controllers can be enabled"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in each subgroup whose type has been changed to"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded ;"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "upon doing so, the corresponding controller interface files"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "appear in the children of that cgroup."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A process can be moved into a threaded subtree by writing its PID to the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.procs"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file in one of the cgroups inside the tree."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This has the effect of making all of the threads"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in the process members of the corresponding cgroup"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and makes the process a member of the threaded subtree."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The threads of the process can then be spread across"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the threaded subtree by writing their thread IDs (see"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " gettid (2))"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.threads"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "files in different cgroups inside the subtree."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The threads of a process must all reside in the same threaded subtree."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "As with writing to"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.procs ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "some containment rules apply when writing to the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.threads"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " * 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The writer must have write permission on the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup.threads"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file in the destination cgroup."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The writer must have write permission on the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.procs"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file in the common ancestor of the source and destination cgroups."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(In some cases,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the common ancestor may be the source or destination cgroup itself.)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The source and destination cgroups must be in the same threaded subtree."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(Outside a threaded subtree, an attempt to move a thread by writing"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "its thread ID to the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.threads"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file in a different"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " domain"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup fails with the error"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EOPNOTSUPP .)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.threads"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file is present in each cgroup (including"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " domain"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroups) and can be read in order to discover the set of threads"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that is present in the cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The set of thread IDs obtained when reading this file"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is not guaranteed to be ordered or free of duplicates."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.procs"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file in the threaded root shows the PIDs of all processes"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that are members of the threaded subtree."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.procs"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "files in the other cgroups in the subtree are not readable."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Domain controllers can't be enabled in a threaded subtree;"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "no controller-interface files appear inside the cgroups underneath the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "threaded root."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "From the point of view of a domain controller,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "threaded subtrees are invisible:"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a multithreaded process inside a threaded subtree appears to a domain"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controller as a process that resides in the threaded root cgroup."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Within a threaded subtree, the \"no internal processes\" rule does not apply:"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a cgroup can both contain member processes (or thread)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and exercise controllers on child cgroups."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Rules for writing to cgroup.type and creating threaded subtrees"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A number of rules apply when writing to the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.type"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " * 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Only the string"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"\"\"threaded\"\"\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "may be written."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "In other words, the only explicit transition that is possible is to convert a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " domain"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup to type"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The effect of writing"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"\"\"threaded\"\"\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "depends on the current value in"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.type ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "as follows:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " "
        },
        {
          "type": "ESCAPE",
          "content": "\\(bu"
        },
        {
          "type": "TEXT",
          "content": " 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " domain"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "or"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain threaded\" :"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "start the creation of a threaded subtree"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(whose root is the parent of this cgroup) via"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the first of the pathways described above;"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " "
        },
        {
          "type": "ESCAPE",
          "content": "\\(bu"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain"
        },
        {
          "type": "ESCAPE",
          "content": "\\ "
        },
        {
          "type": "TEXT",
          "content": "invalid\" :"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "convert this cgroup (which is inside a threaded subtree) to a usable (i.e.,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "state;"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " "
        },
        {
          "type": "ESCAPE",
          "content": "\\(bu"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded :"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "no effect (a \"no-op\")."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RE",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "We can't write to a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.type"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file if the parent's type is"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain invalid\" ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "In other words, the cgroups of a threaded subtree must be converted to the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "state in a top-down manner."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "There are also some constraints that must be satisfied"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in order to create a threaded subtree rooted at the cgroup"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " x :"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " * 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "There can be no member processes in the descendant cgroups of"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " x ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(The cgroup"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " x"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "can itself have member processes.)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "No domain controllers may be enabled in"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " x 's"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.subtree_control"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "If any of the above constraints is violated, then an attempt to write"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"\"\"threaded\"\"\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.type"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file fails with the error"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " ENOTSUP ."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " The \"\"\"domain threaded\"\"\" cgroup type"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "According to the pathways described above,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the type of a cgroup can change to"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain threaded\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in either of the following cases:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " * 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The string"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"\"\"threaded\"\"\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is written to a child cgroup."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A threaded controller is enabled inside the cgroup and"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "a process is made a member of the cgroup."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain threaded\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " x ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "can revert to the type"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " domain"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "if the above conditions no longer hold true"
        },
        {
          "type": "ESCAPE",
          "content": "\\(em"
        },
        {
          "type": "TEXT",
          "content": "that is, if all"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "child cgroups of"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " x"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "are removed and either"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " x"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "no longer has threaded controllers enabled or"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "no longer has member processes."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "When a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain threaded\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " x"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "reverts to the type"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " domain :"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " * 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "All"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain invalid\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "descendants of"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " x"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that are not in lower-level threaded subtrees revert to the type"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " domain ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The root cgroups in any lower-level threaded subtrees revert to the type"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain threaded\" ."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Exceptions for the root cgroup"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The root cgroup of the v2 hierarchy is treated exceptionally:"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "it can be the parent of both"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " domain"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroups."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "If the string"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"\"\"threaded\"\"\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is written to the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.type"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file of one of the children of the root cgroup, then"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " * 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The type of that cgroup becomes"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " *"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The type of any descendants of that cgroup that"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "are not part of lower-level threaded subtrees changes to"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain invalid\" ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Note that in this case, there is no cgroup whose type becomes"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"domain threaded\" ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(Notionally, the root cgroup can be considered as the threaded root"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "for the cgroup whose type was changed to"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " threaded .)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The aim of this exceptional treatment for the root cgroup is to"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "allow a threaded cgroup that employs the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpu"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controller to be placed as high as possible in the hierarchy,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "so as to minimize the (small) cost of traversing the cgroup hierarchy."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " The cgroups v2 \"\"\"cpu\"\"\" controller and realtime threads"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "As at Linux 4.19, the cgroups v2"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpu"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controller does not support control of realtime threads"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(specifically threads scheduled under any of the policies"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " SCHED_FIFO ,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " SCHED_RR ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "described"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " SCHED_DEADLINE ;"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "see"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " sched (7))."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Therefore, the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpu"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controller can be enabled in the root cgroup only"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "if all realtime threads are in the root cgroup."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(If there are realtime threads in nonroot cgroups, then a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " write (2)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "of the string"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"\"\"+cpu\"\"\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup.subtree_control"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file fails with the error"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EINVAL .)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "On some systems,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " systemd (1)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "places certain realtime threads in nonroot cgroups in the v2 hierarchy."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "On such systems,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "these threads must first be moved to the root cgroup before the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpu"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "controller can be enabled."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " ERRORS"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The following errors can occur for"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " mount (2):"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EBUSY"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "An attempt to mount a cgroup version 1 filesystem specified neither the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " name="
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "option (to mount a named hierarchy) nor a controller name (or"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " all )."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " NOTES"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "A child process created via"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " fork (2)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "inherits its parent's cgroup memberships."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "A process's cgroup memberships are preserved across"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " execve (2)."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " /proc files"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /proc/cgroups \" (since Linux 2.6.24)\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This file contains information about the controllers"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that are compiled into the kernel."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "An example of the contents of this file (reformatted for readability)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is the following:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "#subsys_name    hierarchy      num_cgroups    enabled"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cpuset          4              1              1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cpu             8              1              1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cpuacct         8              1              1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "blkio           6              1              1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "memory          3              1              1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "devices         10             84             1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "freezer         7              1              1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "net_cls         9              1              1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "perf_event      5              1              1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "net_prio        9              1              1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "hugetlb         0              1              0"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "pids            2              1              1"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The fields in this file are, from left to right:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " 1. 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The name of the controller."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " 2."
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The unique ID of the cgroup hierarchy on which this controller is mounted."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "If multiple cgroups v1 controllers are bound to the same hierarchy,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "then each will show the same hierarchy ID in this field."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The value in this field will be 0 if:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RS",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 5"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " a) 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "the controller is not mounted on a cgroups v1 hierarchy;"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " b)"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "the controller is bound to the cgroups v2 single unified hierarchy; or"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " c)"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "the controller is disabled (see below)."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RE",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " 3."
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The number of control groups in this hierarchy using this controller."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " 4."
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "This field contains the value 1 if this controller is enabled,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "or 0 if it has been disabled (via the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup_disable"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "kernel command-line boot parameter)."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RE",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /proc/[pid]/cgroup \" (since Linux 2.6.24)\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This file describes control groups to which the process"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "with the corresponding PID belongs."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The displayed information differs for"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroups version 1 and version 2 hierarchies."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "For each cgroup hierarchy of which the process is a member,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "there is one entry containing three colon-separated fields:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "hierarchy-ID:controller-list:cgroup-path"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "For example:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "5:cpuacct,cpu,cpuset:/daemons"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The colon-separated fields are, from left to right:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " 1. 3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "For cgroups version 1 hierarchies,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "this field contains a unique hierarchy ID number"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that can be matched to a hierarchy ID in"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /proc/cgroups ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "For the cgroups version 2 hierarchy, this field contains the value 0."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " 2."
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "For cgroups version 1 hierarchies,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "this field contains a comma-separated list of the controllers"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "bound to the hierarchy."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "For the cgroups version 2 hierarchy, this field is empty."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " 3."
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "This field contains the pathname of the control group in the hierarchy"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to which the process belongs."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This pathname is relative to the mount point of the hierarchy."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RE",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " /sys/kernel/cgroup files"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /sys/kernel/cgroup/delegate \" (since Linux 4.15)\""
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit 01ee6cfb1483fe57c9cbd8e73817dfbf9bacffd3"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "This file exports a list of the cgroups v2 files"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(one per line) that are delegatable"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(i.e., whose ownership should be changed to the user ID of the delegatee)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "In the future, the set of delegatable files may change or grow,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and this file provides a way for the kernel to inform"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "user-space applications of which files must be delegated."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "As at Linux 4.15, one sees the following when inspecting this file:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "$ "
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "Bcat /sys/kernel/cgroup/delegate"
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "P"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup.procs"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup.subtree_control"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cgroup.threads"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /sys/kernel/cgroup/features \" (since Linux 4.15)\""
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit 5f2e673405b742be64e7c3604ed4ed3ac14f35ce"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Over time, the set of cgroups v2 features that are provided by the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "kernel may change or grow,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "or some features may not be enabled by default."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This file provides a way for user-space applications to discover what"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "features the running kernel supports and has enabled."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Features are listed one per line:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " +4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": ".EX"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "$ "
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "Bcat /sys/kernel/cgroup/features"
        },
        {
          "type": "ESCAPE",
          "content": "\\f"
        },
        {
          "type": "TEXT",
          "content": "P"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "nsdelegate"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": ".EE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The entries that can appear in this file are:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RS",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " nsdelegate \" (since Linux 4.15)\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The kernel supports the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " nsdelegate"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mount option."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RE",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " SEE ALSO"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " prlimit (1),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " systemd (1),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " systemd-cgls (1),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " systemd-cgtop (1),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " clone (2),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " ioprio_set (2),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " perf_event_open (2),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " setrlimit (2),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cgroup_namespaces (7),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " cpuset (7),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " namespaces (7),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " sched (7),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " user_namespaces (7)"
        }
      ]
    ]
  }
]
