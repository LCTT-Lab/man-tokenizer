[
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Copyright (C) 2001 David GÃ³mez <davidge@jazzfree.com>"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" %%%LICENSE_START(VERBATIM)"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Permission is granted to make and distribute verbatim copies of this"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" manual provided the copyright notice and this permission notice are"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" preserved on all copies."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Permission is granted to copy and distribute modified versions of this"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" manual under the conditions for verbatim copying, provided that the"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" entire resulting derived work is distributed under the terms of a"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" permission notice identical to this one."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Since the Linux kernel and libraries are constantly changing, this"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" manual page may be incorrect or out-of-date.  The author(s) assume no"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" responsibility for errors or omissions, or for damages resulting from"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" the use of the information contained herein.  The author(s) may not"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" have taken the same level of care in the production of this manual,"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" which is licensed free of charge, as they might when working"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" professionally."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Formatted or processed versions of this manual, if unaccompanied by"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" the source, must acknowledge the copyright and authors of this work."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" %%%LICENSE_END"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Based on comments from mm/filemap.c. Last modified on 10-06-2001"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Modified, 25 Feb 2002, Michael Kerrisk, <mtk.manpages@gmail.com>"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\"\tAdded notes on MADV_DONTNEED"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" 2010-06-19, mtk, Added documentation of MADV_MERGEABLE and"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\"     MADV_UNMERGEABLE"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" 2010-06-15, Andi Kleen, Add documentation of MADV_HWPOISON."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" 2010-06-19, Andi Kleen, Add documentation of MADV_SOFT_OFFLINE."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" 2011-09-18, Doug Goldstein <cardoe@cardoe.com>"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\"     Document MADV_HUGEPAGE and MADV_NOHUGEPAGE"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TH",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADVISE 2 2017-09-15 \"Linux\" \"Linux Programmer's Manual\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " NAME"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "madvise "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": " give advice about use of memory"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " SYNOPSIS"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " #include <sys/mman.h>"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".BI",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"int madvise(void *\" addr \", size_t \" length \", int \" advice );"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " -4n"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Feature Test Macro Requirements for glibc (see"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " feature_test_macros (7)):"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".in",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " madvise ():"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PD",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 0"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RS",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 4"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " 4"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Since glibc 2.19:"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_DEFAULT_SOURCE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Up to and including glibc 2.19:"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "_BSD_SOURCE"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".RE",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PD",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " DESCRIPTION"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " madvise ()"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "system call is used to give advice or directions to the kernel"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "about the address range beginning at address"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " addr"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and with size"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " length"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "bytes"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "In most cases,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the goal of such advice is to improve system or application performance."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Initially, the system call supported a set of \"conventional\""
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " advice"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "values, which are also available on several other implementations."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(Note, though, that"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " madvise ()"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is not specified in POSIX.)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Subsequently, a number of Linux-specific"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " advice"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "values have been added."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" ======================================================================"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Conventional advice values"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " advice"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "values listed below"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "allow an application to tell the kernel how it expects to use"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "some mapped or shared memory areas, so that the kernel can choose"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "appropriate read-ahead and caching techniques."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "These"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " advice"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "values do not influence the semantics of the application"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(except in the case of"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_DONTNEED ),"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "but may influence its performance."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "All of the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " advice"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "values listed here have analogs in the POSIX-specified"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " posix_madvise (3)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "function, and the values have the same meanings, with the exception of"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_DONTNEED ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The advice is indicated in the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " advice"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "argument, which is one of the following:"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_NORMAL"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "No special treatment."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is the default."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_RANDOM"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Expect page references in random order."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(Hence, read ahead may be less useful than normally.)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_SEQUENTIAL"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Expect page references in sequential order."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(Hence, pages in the given range can be aggressively read ahead,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and may be freed soon after they are accessed.)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_WILLNEED"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Expect access in the near future."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(Hence, it might be a good idea to read some pages ahead.)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_DONTNEED"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Do not expect access in the near future."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(For the time being, the application is finished with the given range,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "so the kernel can free resources associated with it.)"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "After a successful"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_DONTNEED"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "operation,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the semantics of memory access in the specified region are changed:"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "subsequent accesses of pages in the range will succeed, but will result"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "in either repopulating the memory contents from the"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "up-to-date contents of the underlying mapped file"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(for shared file mappings, shared anonymous mappings,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and shmem-based techniques such as System V shared memory segments)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "or zero-fill-on-demand pages for anonymous private mappings."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Note that, when applied to shared mappings,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_DONTNEED"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "might not lead to immediate freeing of the pages in the range."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The kernel is free to delay freeing the pages until an appropriate moment."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The resident set size (RSS) of the calling process will be immediately"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "reduced however."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_DONTNEED"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "cannot be applied to locked pages, Huge TLB pages, or"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " VM_PFNMAP"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "pages."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(Pages marked with the kernel-internal"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " VM_PFNMAP"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" http://lwn.net/Articles/162860/"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "flag are special memory areas that are not managed"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "by the virtual memory subsystem."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Such pages are typically created by device drivers that"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "map the pages into user space.)"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" ======================================================================"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Linux-specific advice values"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The following Linux-specific"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " advice"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "values have no counterparts in the POSIX-specified"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " posix_madvise (3),"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and may or may not have counterparts in the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " madvise ()"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "interface available on other implementations."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Note that some of these operations change the semantics of memory accesses."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_REMOVE \" (since Linux 2.6.16)\""
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit f6b3ec238d12c8cc6cc71490c6e3127988460349"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Free up a given range of pages"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and its associated backing store."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is equivalent to punching a hole in the corresponding byte"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "range of the backing store (see"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " fallocate (2))."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Subsequent accesses in the specified address range will see"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "bytes containing zero."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Databases want to use this feature to drop a section of their"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" bufferpool (shared memory segments) - without writing back to"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" disk/swap space.  This feature is also useful for supporting"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" hot-plug memory on UML."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The specified address range must be mapped shared and writable."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This flag cannot be applied to locked pages, Huge TLB pages, or"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " VM_PFNMAP"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "pages."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "In the initial implementation, only"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " tmpfs (5)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "was supported"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_REMOVE ;"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "but since Linux 3.5,"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit 3f31d07571eeea18a7d34db9af21d2285b807a17"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "any filesystem which supports the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " fallocate (2)"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " FALLOC_FL_PUNCH_HOLE"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mode also supports"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_REMOVE ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Hugetlbfs fails with the error"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EINVAL"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and other filesystems fail with the error"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EOPNOTSUPP ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_DONTFORK \" (since Linux 2.6.16)\""
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit f822566165dd46ff5de9bf895cfa6c51f53bb0c4"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" See http://lwn.net/Articles/171941/"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Do not make the pages in this range available to the child after a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " fork (2)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is useful to prevent copy-on-write semantics from changing"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the physical location of a page if the parent writes to it after a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " fork (2)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(Such page relocations cause problems for hardware that"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "DMAs into the page.)"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" [PATCH] madvise MADV_DONTFORK/MADV_DOFORK"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" Currently, copy-on-write may change the physical address of"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" a page even if the user requested that the page is pinned in"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" memory (either by mlock or by get_user_pages).  This happens"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" if the process forks meanwhile, and the parent writes to that"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" page.  As a result, the page is orphaned: in case of"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" get_user_pages, the application will never see any data hardware"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" DMA's into this page after the COW.  In case of mlock'd memory,"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" the parent is not getting the realtime/security benefits of mlock."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" In particular, this affects the Infiniband modules which do DMA from"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" and into user pages all the time."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" This patch adds madvise options to control whether memory range is"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" inherited across fork. Useful e.g. for when hardware is doing DMA"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" from/into these pages.  Could also be useful to an application"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" wanting to speed up its forks by cutting large areas out of"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" consideration."
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\""
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" SEE ALSO: http://lwn.net/Articles/171941/"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" \"Tweaks to madvise() and posix_fadvise()\", 14 Feb 2006"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_DOFORK \" (since Linux 2.6.16)\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Undo the effect of"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_DONTFORK ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "restoring the default behavior, whereby a mapping is inherited across"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " fork (2)."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_HWPOISON \" (since Linux 2.6.32)"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit 9893e49d64a4874ea67849ee2cfbf3f3d6817573"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Poison the pages in the range specified by"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " addr"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " length"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and handle subsequent references to those pages"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "like a hardware memory corruption."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This operation is available only for privileged"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".RB",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " ( CAP_SYS_ADMIN )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "processes."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This operation may result in the calling process receiving a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " SIGBUS"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and the page being unmapped."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "This feature is intended for testing of memory error-handling code;"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "it is available only if the kernel was configured with"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CONFIG_MEMORY_FAILURE ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_MERGEABLE \" (since Linux 2.6.32)\""
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit f8af4da3b4c14e7267c4ffb952079af3912c51c5"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Enable Kernel Samepage Merging (KSM) for the pages in the range specified by"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " addr"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " length ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The kernel regularly scans those areas of user memory that have"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "been marked as mergeable,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "looking for pages with identical content."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "These are replaced by a single write-protected page (which is automatically"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "copied if a process later wants to update the content of the page)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "KSM merges only private anonymous pages (see"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " mmap (2))."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The KSM feature is intended for applications that generate many"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "instances of the same data (e.g., virtualization systems such as KVM)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "It can consume a lot of processing power; use with care."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "See the Linux kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/admin-guide/mm/ksm.rst"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "for more details."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_MERGEABLE"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_UNMERGEABLE"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "operations are available only if the kernel was configured with"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CONFIG_KSM ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_UNMERGEABLE \" (since Linux 2.6.32)\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Undo the effect of an earlier"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_MERGEABLE"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "operation on the specified address range;"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "KSM unmerges whatever pages it had merged in the address range specified by"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " addr"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " length ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_SOFT_OFFLINE \" (since Linux 2.6.33)"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit afcf938ee0aac4ef95b1a23bac704c6fbeb26de6"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Soft offline the pages in the range specified by"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " addr"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " length ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The memory of each page in the specified range is preserved"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(i.e., when next accessed, the same content will be visible,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "but in a new physical page frame),"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and the original page is offlined"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(i.e., no longer used, and taken out of normal memory management)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The effect of the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_SOFT_OFFLINE"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "operation is invisible to (i.e., does not change the semantics of)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the calling process."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "This feature is intended for testing of memory error-handling code;"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "it is available only if the kernel was configured with"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CONFIG_MEMORY_FAILURE ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_HUGEPAGE \" (since Linux 2.6.38)\""
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit 0af4e98b6b095c74588af04872f83d333c958c32"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" http://lwn.net/Articles/358904/"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" https://lwn.net/Articles/423584/"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Enable Transparent Huge Pages (THP) for pages in the range specified by"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " addr"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " length ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Currently, Transparent Huge Pages work only with private anonymous pages (see"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " mmap (2))."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The kernel will regularly scan the areas marked as huge page candidates"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to replace them with huge pages."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The kernel will also allocate huge pages directly when the region is"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "naturally aligned to the huge page size (see"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " posix_memalign (2))."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "This feature is primarily aimed at applications that use large mappings of"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "data and access large regions of that memory at a time (e.g., virtualization"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "systems such as QEMU)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "It can very easily waste memory (e.g., a 2"
        },
        {
          "type": "ESCAPE",
          "content": "\\ "
        },
        {
          "type": "TEXT",
          "content": "MB mapping that only ever accesses"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "1 byte will result in 2"
        },
        {
          "type": "ESCAPE",
          "content": "\\ "
        },
        {
          "type": "TEXT",
          "content": "MB of wired memory instead of one 4"
        },
        {
          "type": "ESCAPE",
          "content": "\\ "
        },
        {
          "type": "TEXT",
          "content": "KB page)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "See the Linux kernel source file"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " Documentation/admin-guide/mm/transhuge.rst"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "for more details."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_HUGEPAGE"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_NOHUGEPAGE"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "operations are available only if the kernel was configured with"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CONFIG_TRANSPARENT_HUGEPAGE ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_NOHUGEPAGE \" (since Linux 2.6.38)\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Ensures that memory in the address range specified by"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " addr"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " length"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "will not be collapsed into huge pages."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_DONTDUMP \" (since Linux 3.4)\""
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit 909af768e88867016f427264ae39d27a57b6a8ed"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit accb61fe7bb0f5c2a4102239e4981650f9048519"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Exclude from a core dump those pages in the range specified by"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " addr"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " length ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is useful in applications that have large areas of memory"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that are known not to be useful in a core dump."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The effect of"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_DONTDUMP"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "takes precedence over the bit mask that is set via the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " /proc/[pid]/coredump_filter"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "file (see"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " core (5))."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_DODUMP \" (since Linux 3.4)\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Undo the effect of an earlier"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_DONTDUMP ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_FREE \" (since Linux 4.5)\""
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The application no longer requires the pages in the range specified by"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " addr"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " len ."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The kernel can thus free these pages,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "but the freeing could be delayed until memory pressure occurs."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "For each of the pages that has been marked to be freed"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "but has not yet been freed,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the free operation will be canceled if the caller writes into the page."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "After a successful"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_FREE"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "operation, any stale data (i.e., dirty, unwritten pages) will be lost"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "when the kernel frees the pages."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "However, subsequent writes to pages in the range will succeed"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and then kernel cannot free those dirtied pages,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "so that the caller can always see just written data."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "If there is no subsequent write,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the kernel can free the pages at any time."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Once pages in the range have been freed, the caller will"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "see zero-fill-on-demand pages upon subsequent page references."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_FREE"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "operation"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "can be applied only to private anonymous pages (see"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " mmap (2))."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "On a swapless system, freeing pages in a given range happens instantly,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "regardless of memory pressure."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_WIPEONFORK \" (since Linux 4.14)\""
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit d2cd9ede6e193dd7d88b6d27399e96229a551b19"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Present the child process with zero-filled memory in this range after a"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " fork (2)."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This is useful in forking servers in order to ensure"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that sensitive per-process data"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(for example, PRNG seeds, cryptographic secrets, and so on)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is not handed to child processes."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_WIPEONFORK"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "operation can be applied only to private anonymous pages (see"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " mmap (2))."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".IP",
          "translatable": true
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Within the child created by"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " fork (2),"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_WIPEONFORK"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "setting remains in place on the specified address range."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "This setting is cleared during"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " execve (2)."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_KEEPONFORK \" (since Linux 4.14)\""
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit d2cd9ede6e193dd7d88b6d27399e96229a551b19"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Undo the effect of an earlier"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_WIPEONFORK ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " RETURN VALUE"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "On success,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " madvise ()"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "returns zero."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "On error, it returns "
        },
        {
          "type": "ESCAPE",
          "content": "\\-"
        },
        {
          "type": "TEXT",
          "content": "1 and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " errno"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is set appropriately."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " ERRORS"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EACCES"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " advice"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_REMOVE ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "but the specified address range is not a shared writable mapping."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EAGAIN"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "A kernel resource was temporarily unavailable."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EBADF"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "The map exists, but the area maps something that isn't a file."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EINVAL"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " addr"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is not page-aligned or"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " length"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is negative."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" .I length"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" is zero,"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EINVAL"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " advice"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is not a valid."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EINVAL"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " advice"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_DONTNEED"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "or"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_REMOVE"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and the specified address range includes locked, Huge TLB pages, or"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " VM_PFNMAP"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "pages."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EINVAL"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " advice"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_MERGEABLE"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "or"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_UNMERGEABLE ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "but the kernel was not configured with"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CONFIG_KSM ."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EINVAL"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " advice"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_FREE"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "or"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_WIPEONFORK"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "but the specified address range includes file, Huge TLB,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MAP_SHARED ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "or"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " VM_PFNMAP"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "ranges."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EIO"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(for"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_WILLNEED )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Paging in this area would exceed the process's"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "maximum resident set size."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " ENOMEM"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "(for"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_WILLNEED )"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Not enough memory: paging in failed."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " ENOMEM"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Addresses in the specified range are not currently"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "mapped, or are outside the address space of the process."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".TP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " EPERM"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " advice"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " MADV_HWPOISON ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "but the caller does not have the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CAP_SYS_ADMIN"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "capability."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " VERSIONS"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "Since Linux 3.18,"
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" commit d3ac21cacc24790eb45d735769f35753f5b56ceb"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "support for this system call is optional,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "depending on the setting of the"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " CONFIG_ADVISE_SYSCALLS"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "configuration option."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " CONFORMING TO"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " madvise ()"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "is not specified by any standards."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Versions of this system call, implementing a wide variety of"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " advice"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "values, exist on many other implementations."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "Other implementations typically implement at least the flags listed"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "above under"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".IR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " \"Conventional advice flags\" ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "albeit with some variation in semantics."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".PP",
          "translatable": false
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "POSIX.1-2001 describes"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " posix_madvise (3)"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "with constants"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " POSIX_MADV_NORMAL ,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " POSIX_MADV_RANDOM ,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " POSIX_MADV_SEQUENTIAL ,"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " POSIX_MADV_WILLNEED ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " POSIX_MADV_DONTNEED ,"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "and so on, with behavior close to the similarly named flags listed above."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " NOTES"
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SS",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " Linux notes"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "TEXT",
          "content": "The Linux implementation requires that the address"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " addr"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "be page-aligned, and allows"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".I",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " length"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "to be zero."
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "If there are some parts of the specified address range"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "that are not mapped, the Linux version of"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " madvise ()"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "ignores them and applies the call to the rest (but returns"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".B",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " ENOMEM"
        }
      ],
      [
        {
          "type": "TEXT",
          "content": "from the system call, as it should)."
        }
      ]
    ]
  },
  {
    "type": "comment",
    "lines": [
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" .SH HISTORY"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" The"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" .BR madvise ()"
        }
      ],
      [
        {
          "type": "COMMENT_BLOCK",
          "content": ".\\\" function first appeared in 4.4BSD."
        }
      ]
    ]
  },
  {
    "type": "macro",
    "lines": [
      [
        {
          "type": "MACRO_BLOCK",
          "content": ".SH",
          "translatable": true
        },
        {
          "type": "TEXT",
          "content": " SEE ALSO"
        }
      ]
    ]
  },
  {
    "type": "content",
    "lines": [
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " getrlimit (2),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " mincore (2),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " mmap (2),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " mprotect (2),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " msync (2),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " munmap (2),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " prctl (2),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " posix_madvise (3),"
        }
      ],
      [
        {
          "type": "MACRO_INLINE",
          "content": ".BR",
          "translatable": false
        },
        {
          "type": "TEXT",
          "content": " core (5)"
        }
      ]
    ]
  }
]
